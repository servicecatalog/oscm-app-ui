<app-card role="table" [initialized]="isInitialized">
  <div title>Instances</div>
  <div content>
    <table mat-table [dataSource]=dataSource matSort>
      <ng-container [matColumnDef]="displayedColumns[0]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID</th>
        <td mat-cell *matCellDef="let instance">
          <a [routerLink]="[instance.id]">{{instance.instanceId}}</a>
        </td>
      </ng-container>
      <ng-container [matColumnDef]="displayedColumns[1]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Subscription ID</th>
        <td mat-cell *matCellDef="let instance"> {{instance.subscriptionId}}</td>
      </ng-container>
      <ng-container [matColumnDef]="displayedColumns[2]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Controller</th>
        <td mat-cell *matCellDef="let instance"> {{getControllerName(instance.controllerId)}}</td>
      </ng-container>
      <ng-container [matColumnDef]="displayedColumns[3]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Organization Name</th>
        <td mat-cell *matCellDef="let instance"> {{instance.organizationName}}</td>
      </ng-container>
      <ng-container [matColumnDef]="displayedColumns[4]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Organization ID</th>
        <td mat-cell *matCellDef="let instance"> {{instance.organizationId}}</td>
      </ng-container>
      <ng-container [matColumnDef]="displayedColumns[5]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td mat-cell *matCellDef="let instance"> {{getStatus(instance.provisioningStatus)}}</td>
      </ng-container>
      <ng-container [matColumnDef]="displayedColumns[6]">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Creation Time</th>
        <td mat-cell *matCellDef="let instance"> {{instance.requestTime | date:'short'}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</app-card>
